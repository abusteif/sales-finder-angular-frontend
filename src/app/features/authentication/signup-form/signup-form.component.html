<form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="page-form signup-form" [class.loading]="isLoading">
  <!-- First Name Field -->
  <app-auth-field
    type="text"
    label="First Name"
    placeholder="Enter your first name"
    icon="fas fa-user"
    [required]="true"
    [errorMessage]="getFieldError('firstName')"
    formControlName="firstName">
  </app-auth-field>

  <!-- Last Name Field -->
  <app-auth-field
    type="text"
    label="Last Name"
    placeholder="Enter your last name"
    icon="fas fa-user"
    [required]="true"
    [errorMessage]="getFieldError('lastName')"
    formControlName="lastName">
  </app-auth-field>

  <!-- Email Field -->
  <app-auth-field
    type="email"
    label="Email Address"
    placeholder="Enter your email"
    icon="fas fa-envelope"
    [required]="true"
    [errorMessage]="getFieldError('email')"
    formControlName="email">
  </app-auth-field>

  <!-- Password Field -->
  <app-auth-field
    id="password"   
    type="password"
    label="Password"
    placeholder="Create a strong password"
    icon="fas fa-lock"
    [required]="true"
    [showPasswordToggle]="true"
    [errorMessage]="getFieldError('password')"
    formControlName="password">
  </app-auth-field>



  <!-- Confirm Password Field -->
  <app-auth-field
    type="password"
    label="Confirm Password"
    placeholder="Confirm your password"
    icon="fas fa-lock"
    [required]="true"
    [showPasswordToggle]="true"
    [errorMessage]="getFieldError('confirmPassword') || getPasswordMismatchError()"
    formControlName="confirmPassword">
  </app-auth-field>

  <!-- Submit Button -->
  <button 
    type="submit" 
    class="btn btn-primary btn-full-width"
    [disabled]="signupForm.invalid || isLoading">
    @if (isLoading) {
      <i class="fas fa-spinner fa-spin"></i>
      Creating account...
    } @else {
      Create Account
    }
  </button>

  <!-- Error Message -->
  @if (signupError) {
    <div class="error-message">
      <i class="fas fa-exclamation-circle"></i>
      {{ signupError }}
    </div>
  }
</form>

<!-- Loading Overlay -->
@if (isLoading) {
  <div class="loading-overlay">
    <div class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i>
      <p>Creating your account...</p>
    </div>
  </div>
} 