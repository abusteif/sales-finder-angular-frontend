<div class="alert-item" [class.active]="isActive" [class.inactive]="!isActive">
  <div class="alert-item__header">
    <div class="alert-item__status">
      <span class="status-indicator" [class.active]="isActive"></span>
      <span class="status-text">{{ isActive ? 'Active' : 'Inactive' }}</span>
    </div>
    <div class="alert-item__actions">
      <button class="action-btn toggle-btn" 
              [class.active]="isActive"
              [title]="isActive ? 'Disable Alert' : 'Enable Alert'"
              (click)="onToggleAlert()"
              [disabled]="isLoading">
        <i class="fas" [class.fa-toggle-on]="isActive" [class.fa-toggle-off]="!isActive"></i>
      </button>
      <button class="action-btn edit-btn" title="Edit Alert" (click)="onEditAlert()">
        <i class="fas fa-edit"></i>
      </button>
      <button class="action-btn delete-btn" title="Delete Alert" (click)="onDeleteAlert()">
        <i class="fas fa-trash"></i>
      </button>
    </div>
  </div>

  <div class="alert-item__content">
    <!-- Alert Details Component -->
    <app-alert-item-details 
      [searchText]="searchText"
      [stores]="selectedStores"
      [minPrice]="minPrice"
      [maxPrice]="maxPrice"
      [minDiscount]="minDiscount"
      [alertType]="alertType"
      [exactMatch]="exactMatch"
      [aiSearch]="aiSearch"
      (editAlert)="onEditAlert()"
      (deleteAlert)="onDeleteAlert()">
    </app-alert-item-details>

    <!-- Alert Results Component -->
    <app-alert-item-results 
      [lastItemFound]="lastItemFound"
      [lastItemFoundAt]="lastItemFoundAt"
      [lastItemFoundUrl]="lastItemFoundUrl"
      [lastItemFoundImageUrl]="lastItemFoundImageUrl">
    </app-alert-item-results>
  </div>

</div>
